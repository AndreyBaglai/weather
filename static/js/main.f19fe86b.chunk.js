(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(8),s=n.n(r),i=n(6),o=n.n(i),l=n(7),u=n(9),d=n(4),j=(n(15),n(0));function h(e){var t=e.onSubmitForm;return Object(j.jsxs)("form",{className:"form",onSubmit:t,children:[Object(j.jsx)("input",{type:"text",className:"city-field",name:"city",id:"city",placeholder:"City name..."}),Object(j.jsx)("button",{id:"addBtn",children:"Add"})]})}var m="cards",p="lang";function b(e){localStorage.setItem(m,JSON.stringify(e))}function f(){var e=localStorage.getItem(p);return e?JSON.parse(e):""}function x(e){localStorage.setItem(p,JSON.stringify(e))}n(17);function v(e){var t=e.onSelectLang;return Object(j.jsxs)("select",{name:"language",id:"lang",className:"select-lang",onChange:t,defaultValue:f(),children:[Object(j.jsx)("option",{value:"en",children:"EN"}),Object(j.jsx)("option",{value:"ru",children:"RU"}),Object(j.jsx)("option",{value:"uk",children:"UA"})]})}n(18);function O(e){var t=e.onSubmitForm,n=e.onSelectLang;return Object(j.jsxs)("header",{className:"header",children:[Object(j.jsx)(h,{onSubmitForm:t}),Object(j.jsx)(v,{onSelectLang:n})]})}var g=["Jun","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];n(19);function N(e){var t=e.onChangeTemperature,n=e.info;return Object(j.jsxs)("div",{className:"card",children:[Object(j.jsxs)("div",{className:"card-top",children:[Object(j.jsxs)("div",{className:"country-info",children:[Object(j.jsxs)("div",{className:"country",children:[n.city,", ",n.country]}),Object(j.jsxs)("div",{className:"date",children:[function(){var e=new Date,t=e.getMonth(),n=e.getDay(),c=e.getDate();return"".concat(y[n],", ").concat(c," ").concat(g[t],",")}()," ",function(){var e=new Date,t=e.getHours()<10?"0".concat(e.getHours()):e.getHours(),n=e.getMinutes()<10?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(t,":").concat(n)}()]})]}),Object(j.jsxs)("div",{className:"weather-icon",children:[Object(j.jsx)("img",{className:"icon",src:"https://openweathermap.org/img/wn/".concat(n.icon,"@2x.png"),alt:"Icon"}),Object(j.jsx)("p",{className:"text-icon",children:n.text_icon})]})]}),Object(j.jsx)("div",{className:"graphic",children:n.temperature>0?Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:Object(j.jsx)("path",{fill:"#ff715b",fillOpacity:"1",d:"M0,288L48,272C96,256,192,224,288,197.3C384,171,480,149,576,165.3C672,181,768,235,864,250.7C960,267,1056,245,1152,250.7C1248,256,1344,288,1392,304L1440,320L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})}):Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",children:Object(j.jsx)("path",{fill:"#5ba8ff",fillOpacity:"1",d:"M0,288L48,272C96,256,192,224,288,197.3C384,171,480,149,576,165.3C672,181,768,235,864,250.7C960,267,1056,245,1152,250.7C1248,256,1344,288,1392,304L1440,320L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})}),Object(j.jsxs)("div",{className:"card-bottom",children:[Object(j.jsxs)("div",{className:"temperature-wrapper",onClick:t,children:[Object(j.jsxs)("div",{className:"main-temperature",children:[Object(j.jsx)("span",{className:"temperature",children:Math.ceil(n.temperature)>0?"+".concat(Math.ceil(n.temperature)):"-".concat(Math.ceil(n.temperature))}),Object(j.jsxs)("span",{className:"metric",children:[Object(j.jsx)("span",{className:"celsius",children:"\xb0C"})," |",Object(j.jsx)("span",{className:"fahrenheit",children:"\xb0F"})]})]}),Object(j.jsxs)("div",{className:"feels",children:["Feels like:"," ",Math.ceil(n.feels)>0?"+".concat(Math.ceil(n.feels)):"-".concat(Math.ceil(n.feels))]})]}),Object(j.jsxs)("div",{className:"weather-info",children:[Object(j.jsx)("p",{children:n.description}),Object(j.jsxs)("p",{children:["Wind: ",Object(j.jsxs)("span",{className:"value",children:[n.wind_speed,"m/s"]})]}),Object(j.jsxs)("p",{children:["Humidity: ",Object(j.jsxs)("span",{className:"value",children:[n.humidity,"%"]})]}),Object(j.jsxs)("p",{children:["Pressure: ",Object(j.jsxs)("span",{className:"value",children:[n.pressure,"Pa"]})]})]})]})]})}n(20);function C(e){var t=e.onChangeTemperature,n=e.cards;return Object(j.jsx)("main",{className:"main",children:n.map((function(e){return Object(j.jsx)(N,{onChangeTemperature:t,info:e},e.time+e.city)}))})}var w="https://api.openweathermap.org/data/2.5/",S="2904218e66790986ea8f1701ca13b7b5";function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return fetch("".concat(w,"weather?q=").concat(e,"&units=metric&lang=").concat(t,"&appid=").concat(S)).then((function(e){return e.json()})).then((function(e){return e}))}n(21);var L=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(d.a)(r,2),i=s[0],h=s[1],p=Object(c.useState)("en"),v=Object(d.a)(p,2),g=v[0],y=v[1];Object(c.useEffect)((function(){var e=function(){var e=localStorage.getItem(m);return e?JSON.parse(e):[]}(),t=f();e.length&&a(e),""!==t?y(t):x(g)}),[g]);var N=function(){var e=Object(u.a)(o.a.mark((function e(t){var c,r,s,i,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c=t.target,r=c.querySelector("#city"),s=r.value,e.prev=4,""!==s){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,M(s,g);case 9:if(i=e.sent){e.next=12;break}return e.abrupt("return");case 12:u={city:i.name,time:i.dt,country:i.sys.country,temperature:i.main.temp,humidity:i.main.humidity,pressure:i.main.pressure,feels:i.main.feels_like,icon:i.weather[0].icon,text_icon:i.weather[0].main,description:i.weather[0].description,wind_speed:i.wind.speed},d=n.filter((function(e){return e.city!==u.city})),r.value="",b([u].concat(Object(l.a)(d))),a([u].concat(Object(l.a)(d))),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(4),r.value="",console.log("Incorrect city name");case 23:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(O,{onSubmitForm:N,onSelectLang:function(e){var t=e.target.value;x(t),y(t)}}),n.length?Object(j.jsx)(C,{onChangeTemperature:function(e){var t,n=e.currentTarget,c=e.target;if(!(c.classList.contains("fahrenheit")&&!i||c.classList.contains("celsius")&&i)){var a=n.querySelector(".temperature"),r=Number(i?null===a||void 0===a||null===(t=a.textContent)||void 0===t?void 0:t.slice(1):null===a||void 0===a?void 0:a.textContent);if(c.classList.contains("fahrenheit")&&a)a.textContent=String(Math.ceil(9*r/5+32)),h(!1);else{var s=Math.floor(5/9*(r-32));a.textContent=String(s>0?"+".concat(s):"-".concat(s)),h(!0)}}},cards:n}):Object(j.jsx)("p",{children:"Please, input city name"})]})};n(22);s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(L,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.f19fe86b.chunk.js.map